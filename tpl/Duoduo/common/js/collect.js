this.collect={};(function(){function IsSelect(){jQuery.ajax({url:"/RentDetails/Ajax/DetailCollect.aspx",type:"post",dataType:"json",data:{type:"init",houseid:houseInfo.houseid,linkurl:location.href},async:false,success:function(data){if(data&&data.MySelectID>0){collect.selectid=data.MySelectID;Selected()}}})}function CancelCollect(){jQuery.ajax({url:"/RentDetails/Ajax/DetailCollect.aspx",type:"post",dataType:"json",data:{type:"cancel",selectid:collect.selectid,},success:function(data){if(data&&data.Count>0){Cancel()}}})}function Collect(){jQuery.ajax({url:"/RentDetails/Ajax/DetailCollect.aspx?"+jQuery.param(colletParams),type:"get",dataType:"json",success:function(result){if(result&&result==true){Selected()}}})}function Selected(){var $ani1=jQuery(".shocang").find(".ani1");var $ani2=jQuery(".shocang").find(".ani2");$ani1.fadeOut(300);$ani2.fadeIn(300);$ani1.removeClass("move-h").addClass("move");$ani2.removeClass("move").addClass("move-h").show();jQuery("#collectionBtnright").removeClass("n01").addClass("n02");jQuery("#collectionBtnright").html('<div class="sideboxnr">已收藏</div>')}function Cancel(){var $ani1=jQuery(".shocang").find(".ani1");var $ani2=jQuery(".shocang").find(".ani2");$ani1.fadeIn(300);$ani2.fadeOut(300);$ani1.removeClass("move").addClass("move-h");$ani2.removeClass("move-h").addClass("move");jQuery("#collectionBtnright").removeClass("n02").addClass("n01");jQuery("#collectionBtnright").html('<div class="sideboxnr">点击收藏</div>')}if(jQuery){if(login.IsLogin()){IsSelect()}jQuery(".shocang,#collectionBtnright").on("click",function(){var $ani2=jQuery(".shocang").find(".ani2");if(login.IsLogin()){IsSelect();if($ani2.hasClass("move-h")){CancelCollect()}else{Collect()}}else{location.href="https://passport.fang.com/?backurl="+escape(location.href)}})}}());