<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"> 
<meta content="telephone=no" name="format-detection">
<meta name="keywords" content="首创置业，买房，看房，房地产">
<meta name="description" content="首创置业是中国领先的房地产综合营运商。公司于2003年6月19日在香港联合交易所主板上市，综合实力居国内领先地位，目前已进入全国四大区域十三个城市，土地储备规模超过1000万平方米，有相当高的市场知名度和品牌影响力。">
<title></title>

<link href="{weiwin::RES}/css/defstyel.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="{weiwin::RES}/js/jQuery.js"></script>
<link href="{weiwin::RES}/css/nestyle.css" rel="stylesheet" type="text/css">
</head>
 
<body  >
    <p  class="mid_reg">片区经理注册</p>
    <form action="{U:('District/index')}" method="post">
    <div class="reg_content">
        <input type="text"  value="请输入您的姓名" class="reg_cone" name="Name" id="name">
        <input type="text"  value="请输入您的电话" onkeyup="this.value=this.value.replace(/[^\d]/g,'')" name="Tel" id="tel">

        <input type="text" name="" value="请输入您所属项目名称" id="lp" onclick="showboxa('lpinfo')"  class="but_selectlist">

        <input type="hidden" name="Uid" id="Uid" value="1">
        <input type="text" name="yqm" value="请输入您的邀请码" id="yqm">
        
        <!--修改成后来改掉的那个-->
        <div class="agreement_box_"> 
            <p  class="agreement">规则协议</p>     
            <div style=" height:90px;width:100%;margin:auto;overflow:auto;text-align:left;">
                <p class="agreement_content">{weiwin:$TiaoKuan}</p>
            </div>
        </div>         
        <!--修改成后来改掉的那个-->
        
        <div class="clearbox"> <input id="clearbut" name="" type="checkbox" value="" class="clearbut" checked><label for="clearbut">我同意以上协议</label></div>
         
         
            <p  class="agreement" style="width:90%; height:40px; text-align:left;">提示</p>       
            <p class="agreement_content" style="width:90%; text-align:left; ">为方便管理，请您填写真实用户信息！</p>
        
        <input type="submit" class="zc_but" value="注册" id="zhuce" onclick="return abc()">
     </div>
    </form>
     <div id="lpinfo" class="showbox_yxlp" style="display:none;" >
        <div class="showbox_yxlp_" >
            <div class="showbox_yxlp_title">消费需求</div>
            <volist name="lpinfo" id="vo">
                <a href="#"   title="{weiwin:$vo.id}" >{weiwin:$vo.LouPanTitle}</a>
            </volist>
         </div>
     </div>
     <div class="showbox_yxlp"  id="error_box" style="display:none;" >
        <div class="showbx_error">
        <a href="#" id="error_a"  onclick="closeboxa('error_box')">×</a> 
           <div style="clear:both;" id="errorinfo"> 请正确填写注册内容</div>  
         </div>
    </div>
</body>
<script language="javascript">

    function showboxa(a){
            document.getElementById(a).style.display="";
        }
    function closeboxa(b){ 
            document.getElementById(b).style.display="none";    
        }     

    window.onload=function(){
        // name获取焦点事件
        var name=document.getElementById("name");
        name.onfocus=function(){
            if(name.value=="请输入您的姓名"){
                name.value="";
            }
        }
        //name失去焦点事件
        name.onblur=function(){
            if(name.value==""){
                name.value="请输入您的姓名";
            }
        }

        //tel获取焦点事件
        var tel=document.getElementById("tel");
        tel.onfocus=function(){
            if(tel.value=="请输入您的电话"){
                tel.value="";
            }
        }
        //tel获取焦点事件
        tel.onblur=function(){
            if(tel.value==""){
                tel.value="请输入您的电话";
            }
        }

        //lp获取焦点事件
        var lp=document.getElementById("lp");
        lp.onfocus=function(){
            if(lp.value=="请输入您所属项目名称"){
                lp.value="";
            }
        }
        //lp失去焦点事件
        lp.onblur=function(){
            if(lp.value==""){
                lp.value="请输入您所属项目名称";
            }
        }

        //lp获取焦点事件
        var yqm=document.getElementById("yqm");
        yqm.onfocus=function(){
            if(yqm.value=="请输入您的邀请码"){
                yqm.value="";
            }
        }
        //lp失去焦点事件
        yqm.onblur=function(){
            if(yqm.value==""){
                yqm.value="请输入您的邀请码";
            }
        }

        var a=document.getElementById("lpinfo").getElementsByTagName("a"); 

            for(var i=0;i<a.length;i++)
            {
                a[i].onclick=function(){
                    closeboxa("lpinfo");
                    document.getElementById("lp").value=this.innerText;
                    document.getElementById("Uid").value=this.title;
                }
            }

        document.getElementById("clearbut").onclick=function(){
            if (document.getElementById("clearbut").checked) {
                document.getElementById("zhuce").disabled=false;
                document.getElementById("zhuce").style.background="";
                document.getElementById("zhuce").value="注册";
            }
            else{ 

            document.getElementById("zhuce").disabled=true;
            document.getElementById("zhuce").style.background="#999";
            document.getElementById("zhuce").value="请同意协议方能注册";

            }
        }

        document.getElementById("zhuce").disabled=false;
        document.getElementById("zhuce").style.background="";
        document.getElementById("zhuce").value="注册";
    }

    function abc(){
        var name=document.getElementById("name");
        var tel=document.getElementById("tel");
        var lp=document.getElementById("lp");
        var yqm=document.getElementById("yqm");
        //姓名
        if(name.value==""||name.value=="请输入您的姓名"){
            document.getElementById("errorinfo").innerText="请填写姓名";
            showboxa("error_box");
            return false;
        }
        //电话
        var reg=/^[1][3|5|6|7|8]\d{9}$/;
        if(tel.value==""||!reg.test(tel.value)){
            document.getElementById("errorinfo").innerText="请填写正确的电话号码";
            showboxa("error_box");
            return false;
        }
        //所属楼盘
        if(lp.value==""||lp.value=="请输入您所属项目名称"){
            document.getElementById("errorinfo").innerText="请输入您所属项目名称";
            showboxa("error_box");
            return false;
        }
        //验证邀请码
        var yqmreg=/^\w{6}$/;
        if(yqm.value==""||yqm.value=="请输入您的邀请码"||!yqmreg.test(yqm.value)){
            $("#errorinfo").html("请输入您的邀请码");
            showboxa('error_box');
            return false;
        }
        // $.ajax({
        //     type:'post',
        //     url:"{weiwin::U('Zhiye/checkyqm',array('token'=>$_GET['token'],'wecha_id'=>$_GET['wecha_id']))}",
        //     dataType:"json",
        //     data:{'yqm':yqm.value},
        //     success: function(datas){
        //                 if(datas==0){
        //                     $("#errorinfo").html("邀请码不正确！");
        //                     showboxa('error_box');
        //                     return false;
        //                 }else{
        //                     alert("1111");
        //                     return false;

        //                 }
        //               }
        // });
        // return false;
    }
</script>
</html>
